<ul class="content">
	<li ng-repeat="track in ctrl.tracks" ng-controller="ModalController" >
		<div class="title">
			<div class="artist" ng-repeat="artist in track.artists">
				<a ui-sref="artist({id: artist.id})">{{artist.name}}</a>
				{{track.units[$index].name}}
			</div>
			<a ui-sref="track({id: track.id})">{{track.name}}</a>
		</div>
		<div class="body">
			<img ng-src="/muschart/img/track/{{track.cover}}">
			<div class="body-link">
				<div class="link link-action action-play"></div>
				<div class="link link-action link-empty" ng-show="track.video === ''"></div>
				<div class="link link-action action-youtube" ng-show="track.video !== ''" ng-click="show()"></div>
				<div class="link link-action link-empty"></div>
				<div class="link link-action link-empty"></div>
				<div class="link link-action action-like" ui-sref="login" ng-show="!user"></div>
				<div class="link link-action action-like" ng-controller="UserEditController as ctrl" ng-click="ctrl.like('track', track.id)" ng-show="user"></div>
			</div>
		</div>
		<modal visible="showModal">
			<modal-body>
				<iframe ng-src="{{track.video | trusted}}"></iframe>
			</modal-body>
		</modal>
</ul>
<div class="link" ng-show="ctrl.url !== '#'">
	<a ui-sref="{{ctrl.url}}">More tracks</a>
</div>