<form method="POST" class="form-submit form-validation" name="form">
	<fieldset>
		<legend translate="TRACK"></legend>
		<div class="field">
			<label class="required" translate="ARTIST"></label>
			<div ng-repeat="artistChoice in artistsChoice">
				<select ng-model="unitsChoice[$index - 1].id" ng-if="!$first" required>
					<option ng-repeat="unit in units" value="{{unit.id}}">{{unit.name}}</option>
				</select>
				<select ng-model="artistChoice.id" required>
					<option ng-repeat="artist in artists" value="{{artist.id}}">{{artist.name}}</option>
				</select>
				<button class="btn btn-danger btn-input" ng-click="removeArtistChoice(artistChoice.index)" translate="REMOVE_ARTIST"></button>
			</div>
			<button class="btn btn-default btn-input" ng-click="addArtistChoice()" translate="ADD_ARTIST"></button>
		</div>
		<div class="field">
			<label class="required" for="name" translate="SONG_NAME"></label>
			<input type="text" id="name" name="name" maxlength="255" ng-model="track.name" required/>
		</div>
		<div class="field">
			<label class="required" for="song" translate="TRACK"></label>
			<input type="file" id="song" name="song" ng-model="track.song" file-model="songFile" required file-required/>
		</div>
		<div class="field">
			<label class="required" for="cover" translate="COVER"></label>
			<input type="file" id="cover" name="cover" ng-model="track.cover" file-model="coverFile" required file-required/>
		</div>
		<div class="field">
			<label for="video" translate="YOUTUBE_VIDEO_ID"></label>
			<input type="text" id="video" name="video" maxlength="255" ng-model="track.video"/>
		</div>
		<div class="field">
			<label class="required" translate="GENRE"></label>
			<div ng-repeat="genreChoice in genresChoice">
				<select ng-model="genreChoice.id" required>
					<option ng-repeat="genre in genres" value="{{genre.id}}">{{genre.name}}</option>
				</select>
				<button class="btn btn-danger btn-input" ng-click="removeGenreChoice(genreChoice.index)" translate="REMOVE_GENRE"></button>
			</div>
			<button class="btn btn-default btn-input" ng-click="addGenreChoice()" translate="ADD_GENRE"></button>
		</div>
		<div class="field">
			<label class="required" for="release" translate="RELEASE_DATE"></label>
			<input type="date" id="release" name="release" ng-model="track.release" required/>
		</div>
		<div>
			<button type="submit" class="btn btn-success" ng-click="createTrack()" ng-disabled="form.$invalid || dataLoading" translate="SUBMIT"></button>
			<img ng-if="dataLoading" src="/img/load.gif"/>
		</div>
	</fieldset>
</form>